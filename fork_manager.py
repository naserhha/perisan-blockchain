# ماژول مدیریت فورک و اجماع شبکه برای PersianChain
# نویسنده: Mohammad Nasser Haji Hashemabad
# توضیحات: این ماژول زنجیره‌های مختلف را مقایسه و زنجیره معتبرتر را انتخاب می‌کند.

class مدیریت_فورک:
    def __init__(self, زنجیره_فعلی):
        self.زنجیره_فعلی = زنجیره_فعلی

    def مقایسه_زنجیره(self, زنجیره_جدید):
        # معیار: زنجیره بلندتر معتبرتر است
        if len(زنجیره_جدید) > len(self.زنجیره_فعلی):
            return زنجیره_جدید
        return self.زنجیره_فعلی

    def به_روزرسانی_زنجیره(self, زنجیره_جدید):
        زنجیره_منتخب = self.مقایسه_زنجیره(زنجیره_جدید)
        if زنجیره_منتخب != self.زنجیره_فعلی:
            self.زنجیره_فعلی = زنجیره_منتخب
            return True
        return False

# نمونه استفاده
if __name__ == "__main__":
    زنجیره۱ = [1, 2, 3]
    زنجیره۲ = [1, 2, 3, 4, 5]
    فورک = مدیریت_فورک(زنجیره۱)
    print("زنجیره اولیه:", فورک.زنجیره_فعلی)
    فورک.به_روزرسانی_زنجیره(زنجیره۲)
    print("زنجیره پس از بررسی فورک:", فورک.زنجیره_فعلی) 