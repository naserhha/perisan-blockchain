# ماژول قرارداد هوشمند ساده برای PersianChain

class قرارداد_هوشمند:
    def __init__(self, کد, سازنده):
        self.کد = کد  # تابع پایتونی به عنوان قرارداد
        self.سازنده = سازنده
        self.وضعیت = {}

    def اجرا(self, ورودی):
        try:
            خروجی = self.کد(self.وضعیت, ورودی)
            return {"خروجی": خروجی, "وضعیت": self.وضعیت}
        except Exception as e:
            return {"خطا": str(e)}

# مثال یک قرارداد ساده: جمع دو عدد و ذخیره در وضعیت
def قرارداد_جمع(وضعیت, ورودی):
    a = ورودی.get("a", 0)
    b = ورودی.get("b", 0)
    وضعیت["آخرین_جمع"] = a + b
    return وضعیت["آخرین_جمع"]

# نمونه استفاده
if __name__ == "__main__":
    contract = قرارداد_هوشمند(قرارداد_جمع, "سازنده۱")
    print(contract.اجرا({"a": 5, "b": 7})) 