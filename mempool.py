# ماژول استخر تراکنش‌ها (Mempool) برای PersianChain
# نویسنده: Mohammad Nasser Haji Hashemabad
# توضیحات: این ماژول تراکنش‌های تاییدنشده را نگهداری و مدیریت می‌کند.

class استخر_تراکنش:
    def __init__(self):
        self.تراکنش_ها = []

    def افزودن_تراکنش(self, تراکنش):
        if تراکنش not in self.تراکنش_ها:
            self.تراکنش_ها.append(تراکنش)
            return True
        return False

    def حذف_تراکنش(self, تراکنش):
        if تراکنش in self.تراکنش_ها:
            self.تراکنش_ها.remove(تراکنش)
            return True
        return False

    def دریافت_همه(self):
        return list(self.تراکنش_ها)

    def پاکسازی(self):
        self.تراکنش_ها.clear()

# نمونه استفاده
if __name__ == "__main__":
    استخر = استخر_تراکنش()
    تراکنش۱ = {"فرستنده": "A", "گیرنده": "B", "مقدار": 10}
    تراکنش۲ = {"فرستنده": "B", "گیرنده": "C", "مقدار": 5}
    استخر.افزودن_تراکنش(تراکنش۱)
    استخر.افزودن_تراکنش(تراکنش۲)
    print("تراکنش‌های استخر:", استخر.دریافت_همه())
    استخر.حذف_تراکنش(تراکنش۱)
    print("پس از حذف:", استخر.دریافت_همه())
    استخر.پاکسازی()
    print("استخر پس از پاکسازی:", استخر.دریافت_همه()) 