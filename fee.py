# ماژول مدیریت کارمزد تراکنش برای PersianChain
# نویسنده: Mohammad Nasser Haji Hashemabad
# توضیحات: این ماژول کارمزد تراکنش‌ها را محاسبه و به ماینر اختصاص می‌دهد.

class مدیریت_کارمزد:
    def __init__(self):
        self.کل_کارمزد = 0

    def محاسبه_کارمزد_تراکنش(self, تراکنش):
        # فرض: هر تراکنش دارای فیلد 'کارمزد' است
        return تراکنش.get('کارمزد', 0)

    def جمع_کل_کارمزدها(self, لیست_تراکنش):
        مجموع = 0
        for تراکنش in لیست_تراکنش:
            مجموع += self.محاسبه_کارمزد_تراکنش(تراکنش)
        return مجموع

    def تخصیص_کارمزد_به_ماینر(self, لیست_تراکنش, آدرس_ماینر):
        کل_کارمزد = self.جمع_کل_کارمزدها(لیست_تراکنش)
        # تراکنش پاداش کارمزد برای ماینر
        تراکنش_کارمزد = {
            'فرستنده': 'کارمزد',
            'گیرنده': آدرس_ماینر,
            'مقدار': کل_کارمزد,
            'کارمزد': 0
        }
        return تراکنش_کارمزد

# نمونه استفاده
if __name__ == "__main__":
    مدیریت = مدیریت_کارمزد()
    تراکنش۱ = {'فرستنده': 'A', 'گیرنده': 'B', 'مقدار': 10, 'کارمزد': 2}
    تراکنش۲ = {'فرستنده': 'B', 'گیرنده': 'C', 'مقدار': 5, 'کارمزد': 1}
    لیست = [تراکنش۱, تراکنش۲]
    print("کل کارمزدها:", مدیریت.جمع_کل_کارمزدها(لیست))
    print("تراکنش تخصیص کارمزد به ماینر:", مدیریت.تخصیص_کارمزد_به_ماینر(لیست, 'ماینر۱')) 